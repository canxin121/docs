import{_ as l,X as n,Y as r,a2 as i,Z as t,a1 as e,$ as s,a3 as a,F as c}from"./framework-0fc4b7de.js";const o="/docs/resource/ck.png",p="/docs/resource/demo(1).png",g="/docs/resource/demo(2).png",u="/docs/resource/demo(3).png",h="/docs/resource/demo(4).png",m="/docs/resource/demo(5).png",b="/docs/resource/demo(6).png",x="/docs/resource/demo(7).png",y="/docs/resource/demo(8).png",v="/docs/resource/demo(9).png",k="/docs/resource/demo(10).png",_={},q=a(`<h2 id="功能特性" tabindex="-1"><a class="header-anchor" href="#功能特性" aria-hidden="true">#</a> 😋功能特性😋</h2><ul><li>可以使用gpt3.5和claude两种模型，支持自定义预设和本地预设</li><li>可以使用neeva ai搜索引擎</li><li>有共享的机器人供多人共同使用(仅支持命令来对话，不支持以下特性)</li><li>有用户隔离的个人机器人使用,支持下面两个功能</li><li><blockquote><p>可以直接回复机器人给你的回答来继续对话，无需命令</p></blockquote></li><li><blockquote><p>可以使用数字索引来使用建议回复</p></blockquote></li><li><blockquote><p>可以直接用机器人名称作命令，向指定机器人询问</p></blockquote></li><li><blockquote><p>可以回复特定字段来直接清除对应机器人的对话历史</p></blockquote></li><li>有完备的等待队列，又支持每次几名用户同时请求</li><li>所有分步操作都可以用 取消 或 算了来终止,并且支持错误重输</li><li>如果未创建机器人，对话命令将默认创建gpt3.5,而默认预设可以由管理员来切换</li><li>机器人的回答会以回复形式发送，支持发送带二维码的图片格式和相应的链接</li><li>机器人的给普通用户的时效性回复都会自动撤回，防止刷屏</li><li>插件储存数据放置在./data/poe_chat中</li><li>支持填写代理地址http,https,socks，及其username,password</li></ul><h2 id="功能使用" tabindex="-1"><a class="header-anchor" href="#功能使用" aria-hidden="true">#</a> 😍功能使用😍</h2><ul><li>以下命令前面全部要加 /</li></ul><hr><h3 id="用户帮助" tabindex="-1"><a class="header-anchor" href="#用户帮助" aria-hidden="true">#</a> 用户帮助⌛</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">需要@</th><th style="text-align:center;">范围</th><th style="text-align:center;">说明</th><th style="text-align:center;">权限</th></tr></thead><tbody><tr><td style="text-align:center;">poehelp / ph / poe帮助</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">用户帮助</td><td style="text-align:center;">普通用户</td></tr></tbody></table><h3 id="用户隔离的命令" tabindex="-1"><a class="header-anchor" href="#用户隔离的命令" aria-hidden="true">#</a> 用户隔离的命令✏️</h3><blockquote><p>每个人互不干扰</p></blockquote><blockquote><p>可以直接回复机器人给你的最新的回答来继续相应机器人的对话，无需命令</p></blockquote><blockquote><p>可以通过数字索引来使用建议回复，命令+数字 或 只回复数字 都可以</p></blockquote><blockquote><p>可以通过回复&quot;(清除/清空)(对话/历史)&quot;或&quot;pd&quot;,&quot;poedump&quot;,&quot;pdump&quot;来清空历史对话</p></blockquote><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">需要@</th><th style="text-align:center;">范围</th><th style="text-align:center;">说明</th><th style="text-align:center;">权限</th></tr></thead><tbody><tr><td style="text-align:center;">poetalk / ptalk / pt + 询问的内容</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">进行对话</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poedump / pdump / pd</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">清空当前机器人历史对话</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poecreate / 创建bot / pc</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">创建机器人</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poeremove / 删除bot / pr (+ 机器人名字)</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">删除机器人</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poeswitch / 切换bot / ps (+ 机器人名字)</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">切换机器人</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">&#39;/&#39; + 你的机器人的名称 + 询问的内容</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">与指定机器人进行对话</td><td style="text-align:center;">普通用户</td></tr></tbody></table><hr><h3 id="用户共享的命令" tabindex="-1"><a class="header-anchor" href="#用户共享的命令" aria-hidden="true">#</a> 用户共享的命令✒️</h3><blockquote><p>所有人都是用的同一个机器人</p></blockquote><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">需要@</th><th style="text-align:center;">范围</th><th style="text-align:center;">说明</th><th style="text-align:center;">权限</th></tr></thead><tbody><tr><td style="text-align:center;">poeneeva / pneeva / pn</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">使用 NeevaAI 搜索引擎</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poesharegpt / psharegpt / psg + 要询问的内容</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">共享 GPT 对话</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poegptdump / poegpt清除 / pgd</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">清空共享的 GPT 对话历史</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poeshareclaude / pshareclaude / psc + 要询问的内容</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">共享 Claude 对话</td><td style="text-align:center;">普通用户</td></tr><tr><td style="text-align:center;">poeclaudedump / poeclaude清除 / pcd</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">清空共享的 Claude 对话历史</td><td style="text-align:center;">普通用户</td></tr></tbody></table><hr><h3 id="管理员命令" tabindex="-1"><a class="header-anchor" href="#管理员命令" aria-hidden="true">#</a> 管理员命令🎏</h3><blockquote><p>以下功能仅限poe管理员使用</p></blockquote><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">需要@</th><th style="text-align:center;">范围</th><th style="text-align:center;">说明</th><th style="text-align:center;">权限</th></tr></thead><tbody><tr><td style="text-align:center;">poelogin / plogin / pl</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">登录账号</td><td style="text-align:center;">poe管理员</td></tr><tr><td style="text-align:center;">poeaddprompt / 添加预设 / pap</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">添加预设</td><td style="text-align:center;">poe管理员</td></tr><tr><td style="text-align:center;">poeremoveprompt / 删除预设 / prp</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">删除预设</td><td style="text-align:center;">poe管理员</td></tr><tr><td style="text-align:center;">poechangeprompt / 切换自动预设 / pcp</td><td style="text-align:center;">否</td><td style="text-align:center;">群聊、私聊</td><td style="text-align:center;">切换自动创建机器人时的默认预设</td><td style="text-align:center;">poe管理员</td></tr></tbody></table><hr><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 😵安装😵</h2><h3 id="step-1" tabindex="-1"><a class="header-anchor" href="#step-1" aria-hidden="true">#</a> step.1💛</h3><h4 id="nb安装" tabindex="-1"><a class="header-anchor" href="#nb安装" aria-hidden="true">#</a> nb安装</h4><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>nb plugin install nonebot-poe-chat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="或者pip安装并添加到pyproject-toml的plugins列表中" tabindex="-1"><a class="header-anchor" href="#或者pip安装并添加到pyproject-toml的plugins列表中" aria-hidden="true">#</a> 或者pip安装并添加到pyproject.toml的plugins列表中</h4><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>pip install nonebot-poe-chat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="step-2" tabindex="-1"><a class="header-anchor" href="#step-2" aria-hidden="true">#</a> step.2💙</h3><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>playwright install chromium
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="step-3" tabindex="-1"><a class="header-anchor" href="#step-3" aria-hidden="true">#</a> step.3💜</h3>`,31),f={href:"http://poe.com",target:"_blank",rel:"noopener noreferrer"},w=a(`<h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 👊配置👊</h2><blockquote><p>（在.env或你是用的.env_*中修改）</p></blockquote><h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> cookie1️⃣</h3><p>1.poe_cookie,poe网站的ck，见后文截图，也可以不填，而使用/pl命令登陆（pl登录暂时不稳定，可以自行尝试一下，不行就手动填cookie）</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_cookie = &quot;f87HlVW- %3D%3D&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+o+`" alt="ck获取" tabindex="0" loading="lazy"><figcaption>ck获取</figcaption></figure><h3 id="管理员账号-必填" tabindex="-1"><a class="header-anchor" href="#管理员账号-必填" aria-hidden="true">#</a> 管理员账号(必填)2️⃣</h3><p>2.poe_superusers，poe插件管理员qq号</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_superusers = [&quot;123456&quot;,&quot;132145&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="群聊私聊黑白名单" tabindex="-1"><a class="header-anchor" href="#群聊私聊黑白名单" aria-hidden="true">#</a> 群聊私聊黑白名单3️⃣</h3><p>3.黑白名单模式，默认&quot;black&quot;，默认poe_blacklist = []</p><blockquote><p>black为黑名单模式，禁止名单内的人或群使用 white为白名单模式，只允许名单内的人或群使用</p></blockquote><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_mode = &quot;white&quot;
poe_whitelist = [&quot;123&quot;,&quot;456&quot;]
poe_blacklist = [&quot;123&quot;,&quot;456&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动转图片的阈值" tabindex="-1"><a class="header-anchor" href="#自动转图片的阈值" aria-hidden="true">#</a> 自动转图片的阈值4️⃣</h3><blockquote><p>如果没有设置poe_picable的值(既没写False也没写True)，则超过设置的poe_limit自动转化为图片，是否需要二维码和链接可以参考下一个配置项的设置</p></blockquote><p>4.达到多少字数自动转图片，默认为350</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_limit = 350
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="图片和链接回复" tabindex="-1"><a class="header-anchor" href="#图片和链接回复" aria-hidden="true">#</a> 图片和链接回复5️⃣</h3><blockquote><p>注意如果设置不以图片形式回复(poe_picable = False)，后两个配置项就是无效的</p></blockquote><p>5.是否以图片形式回复,不填的话，默认值为True</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_picable = True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>6.是否在图片上粘上二维码</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_qrable = False
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>7.是否在图片形式回复后跟上二维码的链接,不填的话，默认为True</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_urlable = True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="建议回复" tabindex="-1"><a class="header-anchor" href="#建议回复" aria-hidden="true">#</a> 建议回复6️⃣</h3><p>8.是否开启建议回复，不填的话，默认True</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_suggestable = True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="代理地址" tabindex="-1"><a class="header-anchor" href="#代理地址" aria-hidden="true">#</a> 代理地址7️⃣</h3><p>9.以下只是示例，根据自己实际情况调整； 代理地址如果你的电脑直接就能访问外网，也就是系统代理，请都不填写，不要留空，直接都不填;<br> 如果你只开启了局域网代理，则填写相应信息;</p><ul><li>首先是代理地址</li></ul><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_server = socks://127.0.0.1:7890
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果代理没有验证用的账号密码，不要写下面这两项</p><ul><li>代理name</li></ul><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_name = canxin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>代理passwd</li></ul><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code>poe_passwd = passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 🎁示例🎁</h2><table><thead><tr><th style="text-align:center;">Image 1</th><th style="text-align:center;">Image 2</th></tr></thead><tbody><tr><td style="text-align:center;"><img src="`+p+'" alt="1" loading="lazy"></td><td style="text-align:center;"><img src="'+g+'" alt="2" loading="lazy"></td></tr><tr><td style="text-align:center;">Image 3</td><td style="text-align:center;">Image 4</td></tr><tr><td style="text-align:center;"><img src="'+u+'" alt="3" loading="lazy"></td><td style="text-align:center;"><img src="'+h+'" alt="4" loading="lazy"></td></tr><tr><td style="text-align:center;">Image 5</td><td style="text-align:center;">Image 6</td></tr><tr><td style="text-align:center;"><img src="'+m+'" alt="5" loading="lazy"></td><td style="text-align:center;"><img src="'+b+'" alt="6" loading="lazy"></td></tr><tr><td style="text-align:center;">Image 7</td><td style="text-align:center;">Image 8</td></tr><tr><td style="text-align:center;"><img src="'+x+'" alt="7" loading="lazy"></td><td style="text-align:center;"><img src="'+y+'" alt="8" loading="lazy"></td></tr><tr><td style="text-align:center;"><img src="'+v+'" alt="9" loading="lazy"></td><td style="text-align:center;"><img src="'+k+'" alt="10" loading="lazy"></td></tr></tbody></table><h2 id="更新" tabindex="-1"><a class="header-anchor" href="#更新" aria-hidden="true">#</a> 🎈更新🎈</h2><ul><li>2023/5/1 v1.1.6:<br> 1.完善预设管理的逻辑</li><li>2023/5/1 v1.1.5:<br> 1.修复回复失败后建议回复被清空的bug</li><li>2023/4/30 v1.1.4:<br> 1.修复配置失效bug<br> 2.优化回复逻辑，增加字数限制配置，未设置是否以图片形式回复的情况下，在字数小于指定字数时直接回复，大于时转化为图片回复<br> 3.重构一些代码</li><li>2023/4/30 v1.1.3:<br> 1.切换机器人和删除机器人支持直接命令 + 机器人名称<br> 2.增加黑白名单配置，默认黑名单模式，默认无黑名单用户或群<br> 3.支持直接使用&#39;/&#39; + 用户自己的机器人名称来询问特定机器人，并支持直接回复来继续对话<br> 4.在所有通过回复来继续对话中，支持使用特定字段来清空对话历史（见详细文档）</li><li>2023/4/28 v1.1.2:<br> 1.修复没有跟随命令发送询问内容时的报错（直接pass掉）<br> 2.增加黑名单配置</li><li>2023/4/27 v1.1.1:<br> 1.支持管理员切换自动创建的预设<br> 2.支持在配置中开启和关闭建议回复和图片中二维码，详情看上文 配置</li><li>2023/4/26 v1.0.9:<br> 1.修复cookie致命bug<br> 2./pl登录可能暂时不好用了，因为poe在检测机器人登录，请自行填写ck<br> 3.新增neevaAi搜索功能<br> 4.新增共享的gpt和claude聊天<br> 5.修复自定义预设中间有空格造成错误的bug<br> 6.补上了创建bot的代码的lock<br> 7.恢复正常的suggest，并修复了一个由suggest引起的死循环bug</li><li>2023/4/26 v1.0.8:<br> 1.单例模式重构，只创建一个context，稍微减轻性能消耗<br> 2.暂时修复poe官网suggest消失造成死循环的bug</li></ul>',41);function z(I,T){const d=c("ExternalLinkIcon");return n(),r("div",null,[i(" more "),q,t("p",null,[e("打开poe官网（"),t("a",f,[e("poe.com"),s(d)]),e("），注册账号登录并填写profile（点击create bot可能会弹出让你填写），提取cookie（见后文截图）")]),w])}const V=l(_,[["render",z],["__file","nonebot-poe-chat.html.vue"]]);export{V as default};
